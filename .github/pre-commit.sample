#!/bin/sh
# copy this to `.git/hooks/pre-commit` (if `pre-commit.sample` exists, remove `.sample`)

# if any command fails, exit immediately with that command's exit status
set -eo pipefail

# run flake8 linter checks
flake8 . --count --select=E9,F63,F7,F82 --show-source --statistics
flake8 . --count --exit-zero --max-complexity=20 --max-line-length=127 --ignore=W291,W293,W504,E128,E201,E202,E252,E302,E305 --statistics

# run unit tests
pytest
